<!DOCTYPE html>
<html lang="ku" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no">
    <title>Ù¾ÛØ´Ø¨Ú•Ú©ÛÛŒ Ú©Û†Ù„ÛÚ˜ÛŒ Ù¾Û•Ø±ÙˆÛ•Ø±Ø¯Û•</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Kufi+Arabic:wght@400;600;800&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary-purple: #7a28cb;
            --primary-blue: #00d2ff;
            --danger-red: #ff3333;
            --glass-bg: rgba(255, 255, 255, 0.08);
            --glass-border: rgba(255, 255, 255, 0.2);
            --text-light: #f0f4f8;
            --transition-smooth: all 0.4s ease-out;
        }

        html {
            -webkit-text-size-adjust: 100%;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Noto Kufi Arabic', sans-serif; }

        body {
            background-color: #0a0a0a;
            color: var(--text-light);
            overflow: hidden;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            touch-action: pan-x pan-y; 
        }

        .animated-bg {
            position: absolute;
            top: -50%; left: -50%; width: 200%; height: 200%;
            background: radial-gradient(circle at 50% 50%, rgba(122, 40, 203, 0.4), transparent 60%),
                        radial-gradient(circle at 80% 20%, rgba(0, 210, 255, 0.4), transparent 50%);
            animation: moveGradient 15s infinite alternate ease-in-out;
            z-index: -1; filter: blur(60px);
        }

        @keyframes moveGradient {
            0% { transform: translate(0, 0); }
            50% { transform: translate(5%, 10%); }
            100% { transform: translate(-5%, -5%); }
        }

        .screen {
            position: absolute; width: 100%; height: 100%;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            opacity: 0; pointer-events: none; transition: var(--transition-smooth);
            transform: translateY(15px); padding: 15px;
        }

        .screen.active { opacity: 1; pointer-events: auto; transform: translateY(0); }

        .glass-card {
            background: var(--glass-bg); backdrop-filter: blur(16px); -webkit-backdrop-filter: blur(16px);
            border: 1px solid var(--glass-border); border-radius: 24px; padding: 30px;
            width: 100%; max-width: 550px; 
            max-height: 90vh; /* Ú†Ø§Ø±Û•Ø³Û•Ø±ÛŒ Ú©ÛØ´Û•ÛŒ Ø¨Ú•Ø§Ù†ÛŒ Ø´Ø§Ø´Û•Ú©Û• */
            overflow-y: auto; /* Ú•ÛÚ¯Û•Ø¯Ø§Ù† Ø¨Û• Ø³Ú©Ú•Û†Úµ Ø¦Û•Ú¯Û•Ø± Ø´Ø§Ø´Û• Ø¨Ú†ÙˆÙˆÚ© Ø¨ÙˆÙˆ */
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.3);
            text-align: center; display: flex; flex-direction: column; justify-content: center;
            position: relative;
        }

        /* Ø³ØªØ§ÛŒÙ„ÛŒ Ø³Ú©Ú•Û†Úµ Ø¨Û† Ø¨Û†Ú©Ø³Û•Ú©Û• ØªØ§ Ø¯ÛŒØ²Ø§ÛŒÙ†Û•Ú©Û•ÛŒ ØªÛÚ© Ù†Û•Ú†ÛØª */
        .glass-card::-webkit-scrollbar { width: 6px; }
        .glass-card::-webkit-scrollbar-track { background: transparent; }
        .glass-card::-webkit-scrollbar-thumb { background: rgba(122, 40, 203, 0.5); border-radius: 10px; }

        .logo { width: 90px; height: auto; margin: 0 auto 15px auto; border-radius: 15px; }

        h1 { font-size: 1.6rem; font-weight: 800; margin-bottom: 20px; line-height: 1.6; background: linear-gradient(to right, #fff, #a3c2ff); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        h2 { font-size: 1.3rem; font-weight: 600; margin-bottom: 15px; }
        p { font-size: 0.95rem; margin-bottom: 20px; color: #d1d5db; line-height: 1.6;}

        .input-group { margin-bottom: 20px; text-align: right; width: 100%; }
        .input-group label { display: block; margin-bottom: 8px; font-size: 0.9rem; color: #a3c2ff; }
        
        input[type="text"] {
            width: 100%; padding: 12px 15px; border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.1); background: rgba(0, 0, 0, 0.2);
            color: white; font-size: 16px !important; -webkit-appearance: none;
            outline: none; transition: border-color 0.3s ease;
        }
        input[type="text"]:focus { border-color: var(--primary-blue); background: rgba(0, 0, 0, 0.4); }

        .error-msg { color: var(--danger-red); font-size: 0.85rem; margin-top: 5px; display: none; }

        .custom-select-wrapper { position: relative; width: 100%; }
        .custom-select-trigger {
            width: 100%; padding: 12px 15px; border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.1); background: rgba(0, 0, 0, 0.2);
            color: white; font-size: 16px; cursor: pointer; display: flex; justify-content: space-between; align-items: center;
        }
        .custom-options {
            position: absolute; top: 100%; left: 0; right: 0; background: rgba(20, 20, 30, 0.95);
            backdrop-filter: blur(10px); border: 1px solid var(--glass-border); border-radius: 12px;
            margin-top: 8px; opacity: 0; visibility: hidden; pointer-events: none; transition: all 0.3s ease;
            max-height: 200px; overflow-y: auto; z-index: 10; text-align: right;
        }
        .custom-select-wrapper.open .custom-options { opacity: 1; visibility: visible; pointer-events: auto; }
        .custom-option { padding: 12px 20px; cursor: pointer; font-size: 16px; }
        .custom-option:hover { background: rgba(122, 40, 203, 0.4); }

        .btn {
            background: linear-gradient(135deg, var(--primary-purple), var(--primary-blue));
            border: none; border-radius: 12px; padding: 12px 25px; color: white;
            font-size: 1.1rem; font-weight: 600; cursor: pointer; width: 100%; margin-top: 10px; transition: all 0.3s ease;
        }
        .btn:hover { box-shadow: 0 4px 20px rgba(0, 210, 255, 0.3); transform: translateY(-2px); }

        .countdown-text { font-size: 8rem; font-weight: 800; background: linear-gradient(to right, #fff, var(--primary-blue)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }

        .quiz-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 15px; width: 100%; }
        
        .timer-circle {
            width: 45px; height: 45px; border-radius: 50%; border: 3px solid var(--primary-blue);
            display: flex; justify-content: center; align-items: center; font-weight: bold; font-size: 1.2rem;
            color: var(--primary-blue); transition: all 0.3s;
        }
        .timer-danger { border-color: var(--danger-red); color: var(--danger-red); transform: scale(1.1); animation: pulse 1s infinite; }

        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.1); } 100% { transform: scale(1); } }

        .question-text { font-size: 1.1rem; margin-bottom: 20px; line-height: 1.8; text-align: right; width: 100%; }
        .options-container { width: 100%; }
        
        .option-btn {
            background: rgba(0, 0, 0, 0.2); border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 10px; padding: 12px 15px; width: 100%; text-align: right; color: white;
            font-size: 15px; margin-bottom: 10px; cursor: pointer; transition: all 0.2s ease;
        }
        .option-btn:hover { background: rgba(122, 40, 203, 0.2); border-color: var(--primary-purple); }
        
        /* Ú©Ø§ØªÛÚ© Ù‡Û•ÚµÛŒ Ø¯Û•Ø¨Ú˜ÛØ±ÛØª ØªÛ•Ù†Ù‡Ø§ Ú•Û•Ù†Ú¯ÛŒ Ø¯Û•Ú¯Û†Ú•ÛØª Ø¨Û•Ø¨Û Ù¾ÛØ¯Ø§Ù†ÛŒ Ø¦Û•Ù†Ø¬Ø§Ù… */
        .option-btn.selected { background: rgba(122, 40, 203, 0.5); border-color: var(--primary-blue); }

        .loader {
            border: 4px solid rgba(255,255,255,0.1); border-top: 4px solid var(--primary-blue);
            border-radius: 50%; width: 40px; height: 40px; animation: spin 1s linear infinite; margin: 0 auto 20px auto;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    </style>
</head>
<body>

    <div class="animated-bg"></div>

    <div id="screen-welcome" class="screen active">
        <img src="salahaddin-education-logo.png" alt="Ù„Û†Ú¯Û†ÛŒ Ú©Û†Ù„ÛÚ˜" class="logo" onerror="this.style.display='none'">
        <h1 style="font-size: 2rem; text-align: center; max-width: 800px;">Ø¨Û•Ø®ÛØ±Ø¨ÛÛŒ Ø¨Û† Ù¾ÛØ´Ø¨Ú•Ú©ÛÛŒ Ù¾Ø±Ø³ÛŒØ§Ø±Ùˆ ÙˆÛ•ÚµØ§Ù…ÛŒ Ú©Û†Ù„ÛÚ˜ÛŒ Ù¾Û•Ø±ÙˆÛ•Ø±Ø¯Û•</h1>
    </div>

    <div id="screen-form" class="screen">
        <div class="glass-card">
            <img src="salahaddin-education-logo.png" alt="Ù„Û†Ú¯Û†ÛŒ Ú©Û†Ù„ÛÚ˜" class="logo" style="width: 70px;" onerror="this.style.display='none'">
            <h2>Ø²Ø§Ù†ÛŒØ§Ø±ÛŒÛŒÛ•Ú©Ø§Ù†Øª ØªÛ†Ù…Ø§Ø± Ø¨Ú©Û•</h2>
            
            <div class="input-group">
                <label>Ù†Ø§ÙˆÛŒ Ø³ÛŒØ§Ù†ÛŒØª Ø¨Ù†ÙˆÙˆØ³Û•:</label>
                <input type="text" id="fullName" placeholder="Ø¨Û† Ù†Ù…ÙˆÙˆÙ†Û•: Ù…Ø­Ù…Ø¯ Ø³Û•Ø±Ú©Û•ÙˆØª Ø­Ø³ÛŒÙ†" autocomplete="off">
                <div id="nameError" class="error-msg">ØªÚ©Ø§ÛŒÛ• ØªÛ•Ù†Ù‡Ø§ Ù¾ÛŒØªÛŒ Ú©ÙˆØ±Ø¯ÛŒ/Ø¹Û•Ø±Û•Ø¨ÛŒ Ø¨Ù†ÙˆÙˆØ³Û• Ùˆ Ù„Û• Ø³Û Ù†Ø§Ùˆ Ú©Û•Ù…ØªØ± Ù†Û•Ø¨ÛØª</div>
            </div>

            <div class="input-group">
                <label>Ù„Û• Ú† Ø¨Û•Ø´ÛÚ©ÛŒØŸ</label>
                <div class="custom-select-wrapper" id="departmentSelect">
                    <div class="custom-select-trigger"><span id="selectedDepartment">Ø¨Û•Ø´Û•Ú©Û•Øª Ù‡Û•ÚµØ¨Ú˜ÛØ±Û•...</span><span>â–¼</span></div>
                    <div class="custom-options">
                        <div class="custom-option">Ø¨Ø§ÛŒÛ†Ù„Û†Ø¬ÛŒ</div><div class="custom-option">Ú©ÛŒÙ…ÛŒØ§</div>
                        <div class="custom-option">ÙÛŒØ²ÛŒØ§</div><div class="custom-option">Ù…Ø§ØªÙ…Ø§ØªÛŒÚ©</div>
                        <div class="custom-option">Ú•ÛÙ†Ù…Ø§ÛŒÛŒ Ù¾Û•Ø±ÙˆÛ•Ø±Ø¯Û•ÛŒÛŒ Ùˆ Ø¯Û•Ø±ÙˆÙˆÙ†ÛŒ</div><div class="custom-option">Ù¾Û•Ø±ÙˆÛ•Ø±Ø¯Û•ÛŒ ØªØ§ÛŒØ¨Û•Øª</div>
                        <div class="custom-option">Ø¦ÛŒÙ†Ú¯Ù„ÛŒØ²ÛŒ</div><div class="custom-option">Ø¹Û•Ø±Û•Ø¨ÛŒ</div>
                        <div class="custom-option">Ú©ÙˆØ±Ø¯ÛŒ</div><div class="custom-option">Ø³Ø±ÛŒØ§Ù†ÛŒ</div>
                    </div>
                </div>
                <div id="deptError" class="error-msg">ØªÚ©Ø§ÛŒÛ• Ø¨Û•Ø´Û•Ú©Û•Øª Ù‡Û•ÚµØ¨Ú˜ÛØ±Û•</div>
            </div>

            <p style="margin-top: 5px; font-weight: 600; color: white;">Ø¦Ø§Ù…Ø§Ø¯Û•ÛŒ Ø¨Û† ØªØ§Ù‚ÛŒÚ©Ø±Ø¯Ù†Û•ÙˆÛ•Ú©Û•ØŸ</p>
            <button class="btn" id="startBtn">Ø¨Ø§ Ø¯Û•Ø³Øª Ù¾ÛØ¨Ú©Û•ÛŒÙ†</button>
        </div>
    </div>

    <div id="screen-countdown" class="screen"><div class="countdown-text" id="countdownTimer">3</div></div>

    <div id="screen-quiz" class="screen">
        <div class="glass-card" style="justify-content: flex-start;">
            <div class="quiz-header">
                <div class="timer-circle" id="questionTimer">10</div>
                <div style="text-align: right;">
                    <div style="color: var(--primary-blue); font-weight: bold; margin-bottom: 5px;" id="questionCounter">Ù¾Ø±Ø³ÛŒØ§Ø±ÛŒ 1 / 20</div>
                    <div id="displayUserName" style="color: #ccc; font-size: 0.85rem;">Ù†Ø§Ùˆ</div>
                </div>
            </div>
            <div class="question-text" id="questionText">Ø¯Û•Ù‚ÛŒ Ù¾Ø±Ø³ÛŒØ§Ø±</div>
            <div class="options-container" id="optionsContainer"></div>
        </div>
    </div>

    <div id="screen-result" class="screen">
        <div class="glass-card">
            <div id="loadingBox" style="display: none;">
                <div class="loader"></div>
                <p>Ú†Ø§ÙˆÛ•Ú•ÛØ¨Û•ØŒ Ø¦Û•Ù†Ø¬Ø§Ù…Û•Ú©Û•Øª Ø¯Û•Ù†ÛØ±Ø¯Ø±ÛØª...</p>
            </div>
            <div id="finalMessageBox">
                <h2 id="finalMessage" style="line-height: 1.6;"></h2>
            </div>
        </div>
    </div>

    <script>
        const GOOGLE_SHEET_URL = "https://script.google.com/macros/s/AKfycbzP8TYcKlPu4VA3liRy-UIUUoJBY5IOZM9gazbJ4e6qeePMy8QfVcNB3_IMkloYxBYY/exec";

        const questions = [
            { q: "Ø¦Û•Ú¯Û•Ø± Ø®Ø§Ù†Û•ÛŒÛ•Ú©ÛŒ Ú•ÙˆÙˆÛ•Ú©ÛŒ Ø¨Ø®Ø±ÛØªÛ• Ù†Ø§Ùˆ Ú¯ÛŒØ±Ø§ÙˆÛ•ÛŒÛ•Ú© Ú©Û• Ø®Û•Ø³ØªÛŒ Ø®ÙˆÛÛŒÛ•Ú©Û•ÛŒ Ø²Û†Ø± Ø¨Û•Ø±Ø² Ø¨ÛØª (Hypertonic)ØŒ Ú©Ø§Ù… Ù„Û•Ù… Ø¯ÛŒØ§Ø±Ø¯Ø§Ù†Û• Ú•ÙˆÙˆØ¯Û•Ø¯Ø§ØªØŸ", options: ["A) Ø®Ø§Ù†Û•Ú©Û• Ø¯Û•ØªÛ•Ù‚ÛØª Ø¨Û•Ù‡Û†ÛŒ Ø²Û†Ø±ÛŒ Ø¦Ø§ÙˆÛ•ÙˆÛ•.", "B) Ù†Ø§ÙˆÛ•Ú•Û†Ú©ÛŒ Ø®Ø§Ù†Û•Ú©Û• Ú¯Ø±Ú˜ Ø¯Û•Ø¨ÛØª Ùˆ Ù„Û• Ø¯ÛŒÙˆØ§Ø±Û•Ø®Ø§Ù†Û• Ø¯ÙˆÙˆØ± Ø¯Û•Ú©Û•ÙˆÛØªÛ•ÙˆÛ•.", "C) Ø®Ø§Ù†Û•Ú©Û• Ø¯Û•Ø¦Ø§ÙˆØ³ÛØª Ø¨Û•Ø¨Û Ø¦Û•ÙˆÛ•ÛŒ Ø¨ØªÛ•Ù‚ÛØª.", "D) Ù‡ÛŒÚ† Ú¯Û†Ú•Ø§Ù†Ú©Ø§Ø±ÛŒÛŒÛ•Ú© Ù„Û• Ù‚Û•Ø¨Ø§Ø±Û•ÛŒ Ø®Ø§Ù†Û•Ú©Û•Ø¯Ø§ Ú•ÙˆÙˆÙ†Ø§Ø¯Ø§Øª."], answer: 1 },
            { q: "Ø¨Û†Ú†ÛŒ Ø¦Ø§Ùˆ (H2O) Ù„Û• Ù¾Ù„Û•ÛŒ Ú¯Û•Ø±Ù…ÛŒ Ú˜ÙˆÙˆØ±Ø¯Ø§ Ø´Ù„Û•ØŒ Ù„Û•Ú©Ø§ØªÛÚ©Ø¯Ø§ Ù‡Ø§ÛŒØ¯Ø±Û†Ø¬ÛŒÙ† Ø³Û•Ù„ÙØ§ÛŒØ¯ (H2S) Ú©Û• Ú©ÛØ´ÛŒ Ù…Û†ÚµÛŒ Ø²ÛŒØ§ØªØ±Û• Ø¨Û• Ú¯Ø§Ø² Ø¯Û•Ù…ÛÙ†ÛØªÛ•ÙˆÛ•ØŸ", options: ["A) Ø¨Û•Ù‡Û†ÛŒ Ø¨ÙˆÙˆÙ†ÛŒ Ø¨Û•Ù†Ø¯ÛŒ Ø¦Ø§ÛŒÛ†Ù†ÛŒ Ù„Û• Ø¦Ø§ÙˆØ¯Ø§.", "B) Ø¨Û•Ù‡Û†ÛŒ Ø¬ÛŒØ§ÙˆØ§Ø²ÛŒ Ù‚Û•Ø¨Ø§Ø±Û•ÛŒ Ú¯Û•Ø±Ø¯Û•Ú©Ø§Ù†.", "C) Ø¨Û•Ù‡Û†ÛŒ Ø¨ÙˆÙˆÙ†ÛŒ Ø¨Û•Ù†Ø¯ÛŒ Ù‡Ø§ÛŒØ¯Ø±Û†Ø¬ÛŒÙ†ÛŒ Ø¨Û•Ù‡ÛØ² Ù„Û•Ù†ÛÙˆØ§Ù† Ú¯Û•Ø±Ø¯Û•Ú©Ø§Ù†ÛŒ Ø¦Ø§ÙˆØ¯Ø§.", "D) Ú†ÙˆÙ†Ú©Û• Ø¦Û†Ú©Ø³Ø¬ÛŒÙ† Ú©Ø§Ù†Ø²Ø§ÛŒÛ• Ùˆ Ú¯Û†Ú¯Ø±Ø¯ Ù†Ø§Ú©Ø§Ù†Ø²Ø§ÛŒÛ•."], answer: 2 },
            { q: "Ø¦Û•Ú¯Û•Ø± Ú©Û•Ø³ÛÚ© Ù„Û• Ù†Ø§Ùˆ Ø¦Û•Ø³Ø§Ù†Ø³ÛØ±ÛÚ©Ø¯Ø§ Ø¨ÛØª Ùˆ Ú©ÛØ¨ÚµÛ•Ú©Û•ÛŒ Ø¨Ù¾Ú†Ú•ÛØª (Ú©Û•ÙˆØªÙ†ÛŒ Ø¦Ø§Ø²Ø§Ø¯)ØŒ Ú©ÛØ´ÛŒ Ù…Ø±Û†Ú¤Û•Ú©Û• Ù„Û•Ø³Û•Ø± ØªÛ•Ø±Ø§Ø²ÙˆÙˆÛŒÛ•Ú© Ù„Û• Ù†Ø§Ùˆ Ø¦Û•Ø³Ø§Ù†Ø³ÛØ±Û•Ú©Û• Ú†Û•Ù†Ø¯ Ø¯Û•Ø¨ÛØªØŸ", options: ["A) Ú©ÛØ´ÛŒ Ø²ÛŒØ§Ø¯ Ø¯Û•Ú©Ø§Øª.", "B) Ú©ÛØ´ÛŒ ÙˆÛ•Ú© Ø®Û†ÛŒ Ø¯Û•Ù…ÛÙ†ÛØªÛ•ÙˆÛ•.", "C) Ø¯Û•Ø¨ÛØª Ø¨Û• Ø³ÙØ± (Ø¨Ø§Ø±ÛŒ Ø¨Û Ú©ÛØ´ÛŒ).", "D) Ú©ÛØ´ÛŒ Ù†ÛŒÙˆÛ• Ø¯Û•Ø¨ÛØª."], answer: 2 },
            { q: "Ø¦Û•Ú¯Û•Ø± ØªÛÚ©Ú•Ø§ÛŒ Ù¾ÛÙ†Ø¬ Ú˜Ù…Ø§Ø±Û• ÛŒÛ•Ú©Ø³Ø§Ù† Ø¨ÛØª Ø¨Û• 20ØŒ Ùˆ ÛŒÛ•Ú©ÛÚ© Ù„Û• Ú˜Ù…Ø§Ø±Û•Ú©Ø§Ù† Ù„Ø§Ø¨Ø¯Û•ÛŒÙ† Ùˆ ØªÛÚ©Ú•Ø§ÛŒ Ú†ÙˆØ§Ø± Ú˜Ù…Ø§Ø±Û•Ú©Û•ÛŒ ØªØ± Ø¨Ø¨ÛØªÛ• 15ØŒ Ø¦Û•Ùˆ Ú˜Ù…Ø§Ø±Û•ÛŒÛ•ÛŒ Ù„Ø§Ø¯Ø±Ø§ÙˆÛ• Ú†Û•Ù†Ø¯Û•ØŸ", options: ["A) 25", "B) 35", "C) 50", "D) 40"], answer: 3 },
            { q: "Ù„Û• Ú©Ø§ØªÛŒ Ú†Ø§Ø±Û•Ø³Û•Ø±Ú©Ø±Ø¯Ù†ÛŒ Ú©ÛØ´Û•ÛŒÛ•Ú©ÛŒ Ú•Û•ÙØªØ§Ø±ÛŒ Ø®ÙˆÛÙ†Ø¯Ú©Ø§Ø±ÛÚ©Ø¯Ø§ØŒ Ú©Ø§Ù…Û• Ù‡Û•Ù†Ú¯Ø§Ùˆ Ø¨Û• Ø¨Ù†Ú†ÛŒÙ†Û•ÛŒÛŒØªØ±ÛŒÙ† Ù‡Û•Ù†Ú¯Ø§Ùˆ Ø¯Ø§Ø¯Û•Ù†Ø±ÛØª Ø¨Û† Ú•ÛÙ†Ù…Ø§ÛŒÛŒÚ©Ø§Ø±ØŸ", options: ["A) Ø³Ø²Ø§Ø¯Ø§Ù†ÛŒ Ø®ÙˆÛÙ†Ø¯Ú©Ø§Ø±Û•Ú©Û• Ø¨Û† Ø¦Û•ÙˆÛ•ÛŒ Ø¯ÙˆÙˆØ¨Ø§Ø±Û•ÛŒ Ù†Û•Ú©Ø§ØªÛ•ÙˆÛ•.", "B) Ø¯Û†Ø²ÛŒÙ†Û•ÙˆÛ•ÛŒ Ù¾Ø§ÚµÙ†Û•Ø± Ùˆ Ù‡Û†Ú©Ø§Ø±Û• Ø³Û•Ø±Û•Ú©ÛŒÛŒÛ•Ú©Ø§Ù†ÛŒ Ù¾Ø´Øª Ú•Û•ÙØªØ§Ø±Û•Ú©Û•.", "C) Ú¯ÙˆØ§Ø³ØªÙ†Û•ÙˆÛ•ÛŒ Ø®ÙˆÛÙ†Ø¯Ú©Ø§Ø±Û•Ú©Û• Ø¨Û† Ù‚ÙˆØªØ§Ø¨Ø®Ø§Ù†Û•ÛŒÛ•Ú©ÛŒ ØªØ±.", "D) Ø¦Ø§Ú¯Ø§Ø¯Ø§Ø±Ú©Ø±Ø¯Ù†Û•ÙˆÛ•ÛŒ Ù¾Û†Ù„ÛŒØ³ Ù„Û• Ú•Û•ÙØªØ§Ø±Û•Ú©Û•."], answer: 1 },
            { q: "Ú†Û•Ù…Ú©ÛŒ 'Ù¾Û•Ø±ÙˆÛ•Ø±Ø¯Û•ÛŒ Ú¯Ø´ØªÚ¯ÛŒØ±' (Inclusion) Ù„Û• Ù¾Û•Ø±ÙˆÛ•Ø±Ø¯Û•ÛŒ ØªØ§ÛŒØ¨Û•ØªØ¯Ø§ Ø¨Û• Ú† ÙˆØ§ØªØ§ÛŒÛ•Ú© Ø¯ÛØªØŸ", options: ["A) Ø¬ÛŒØ§Ú©Ø±Ø¯Ù†Û•ÙˆÛ•ÛŒ Ø®Ø§ÙˆÛ•Ù† Ù¾ÛØ¯Ø§ÙˆÛŒØ³ØªÛŒÛŒÛ• ØªØ§ÛŒØ¨Û•ØªÛ•Ú©Ø§Ù† Ù„Û• Ù‚ÙˆØªØ§Ø¨Ø®Ø§Ù†Û•ÛŒ Ø¬ÛŒØ§ÙˆØ§Ø².", "B) ØªÛÚ©Û•ÚµÚ©Ø±Ø¯Ù†ÛŒ Ø®ÙˆÛÙ†Ø¯Ú©Ø§Ø±Ø§Ù†ÛŒ Ø®Ø§ÙˆÛ•Ù† Ù¾ÛØ¯Ø§ÙˆÛŒØ³ØªÛŒ ØªØ§ÛŒØ¨Û•Øª Ù„Û•Ú¯Û•Úµ Ù‡Ø§ÙˆØªÛ•Ù…Û•Ù†Û• Ø¦Ø§Ø³Ø§ÛŒÛŒÛ•Ú©Ø§Ù†ÛŒØ§Ù†.", "C) ØªÛ•Ù†Ù‡Ø§ Ú¯Ø±Ù†Ú¯ÛŒØ¯Ø§Ù† Ø¨Û•Ùˆ Ø®ÙˆÛÙ†Ø¯Ú©Ø§Ø±Ø§Ù†Û•ÛŒ Ø¦Ø§Ø³ØªÛŒ Ú˜ÛŒØ±ÛŒÛŒØ§Ù† Ø²Û†Ø± Ø¨Û•Ø±Ø²Û•.", "D) Ú©Û•Ù…Ú©Ø±Ø¯Ù†Û•ÙˆÛ•ÛŒ Ú©Ø§ØªÚ˜Ù…ÛØ±Û•Ú©Ø§Ù†ÛŒ Ø®ÙˆÛÙ†Ø¯Ù† Ø¨Û† Ø®ÙˆÛÙ†Ø¯Ú©Ø§Ø±Û• Ù„Ø§ÙˆØ§Ø²Û•Ú©Ø§Ù†."], answer: 1 },
            { q: "Identify the correct conditional sentence that expresses a hypothetical situation in the past:", options: ["A) If I study hard, I will pass.", "B) If I studied hard, I would pass.", "C) If I had studied hard, I would have passed.", "D) If I have studied hard, I would pass."], answer: 2 },
            { q: "Ù…Ø§ Ù‡ÙŠ Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø¥Ø¹Ø±Ø§Ø¨ÙŠØ© Ù„ÙƒÙ„Ù…Ø© 'Ø§Ù„Ø·Ø§Ù„Ø¨Ù' ÙÙŠ Ø¬Ù…Ù„Ø© (Ú©Ø§ÙØ£ Ø§Ù„Ù…Ø¹Ù„Ù…Ù Ø§Ù„Ø·Ø§Ù„Ø¨Ù)ØŸ", options: ["A) Ø§Ù„Ø±ÙØ¹ Ù„Ø£Ù†Ù‡ ÙØ§Ø¹Ù„.", "B) Ø§Ù„Ø¬Ø± Ù„Ø£Ù†Ù‡ Ù…Ø¶Ø§Ù Ø¥Ù„ÙŠÙ‡.", "C) Ø§Ù„Ø¬Ø²Ù… Ù„Ø£Ù†Ù‡ ÙØ¹Ù„ Ù…Ø¶Ø§Ø±Ø¹.", "D) Ø§Ù„Ù†ØµØ¨ Ù„Ø£Ù†Ù‡ Ù…ÙØ¹ÙˆÙ„ Ø¨Ù‡."], answer: 3 },
            { q: "Ù„Û• Ú•Ø³ØªÛ•ÛŒ 'Ø´ÛØ±Ú©Û† Ø¨ÛÚ©Û•Ø³ Ø´Ø§Ø¹ÛŒØ±ÛÚ©ÛŒ Ù†Ø§Ø³Ø±Ø§ÙˆÛ•'ØŒ ÙˆØ´Û•ÛŒ (Ø´Ø§Ø¹ÛŒØ±ÛÚ©ÛŒ) Ú† Ø¬Û†Ø±Û• Ù†Ø§ÙˆÛÚ©Û•ØŸ", options: ["A) Ù†Ø§ÙˆÛŒ Ù†Ø§Ø³Ø±Ø§Ùˆ (Ù…Û•Ø¹Ø±ÛŒÙÛ•).", "B) Ù†Ø§ÙˆÛŒ Ù†Û•Ù†Ø§Ø³Ø±Ø§Ùˆ (Ù†Û•Ú©ÛŒØ±Û•).", "C) Ù†Ø§ÙˆÛŒ Ú©Û†.", "D) Ù†Ø§ÙˆÛŒ Ø¬ÛÙ†Ø§Ùˆ."], answer: 1 },
            { q: "Ø²Ù…Ø§Ù†ÛŒ Ø³Ø±ÛŒØ§Ù†ÛŒ Ø³Û•Ø± Ø¨Û• Ú©Ø§Ù… Ø®ÛØ²Ø§Ù†ÛŒ Ø²Ù…Ø§Ù†Û•ÙˆØ§Ù†ÛŒÛŒÛ•ØŸ", options: ["A) Ø²Ù…Ø§Ù†Û• Ù‡ÛŒÙ†Ø¯Û†Ø¦Û•ÙˆØ±ÙˆÙ¾ÛŒÛŒÛ•Ú©Ø§Ù†.", "B) Ø²Ù…Ø§Ù†Û• ØªÙˆØ±Ú©ÛŒÛŒÛ•Ú©Ø§Ù†.", "C) Ø²Ù…Ø§Ù†Û• Ø³Ø§Ù…ÛŒÛŒÛ•Ú©Ø§Ù†.", "D) Ø²Ù…Ø§Ù†Û• Ú†ÛŒÙ†ÛŒÛŒÛ•Ú©Ø§Ù†."], answer: 2 },
            { q: "Ø¨Û†Ú†ÛŒ Ù„Û• Ú©Ø§ØªÛŒ ÙˆÛ•Ø±Ø²Ø´Ú©Ø±Ø¯Ù†ÛŒ ØªÙˆÙ†Ø¯Ø¯Ø§ Ù…Ø§Ø³ÙˆÙ„Ú©Û•Ú©Ø§Ù† Ù‡Û•Ø³Øª Ø¨Û• Ù…Ø§Ù†Ø¯ÙˆÙˆØ¨ÙˆÙˆÙ† Ùˆ Ú©Ø²Ø§Ù† Ø¯Û•Ú©Û•Ù†ØŸ", options: ["A) Ø¨Û•Ù‡Û†ÛŒ Ø²Û†Ø±ÛŒ Ú•ÛÚ˜Û•ÛŒ Ø¦Ø§Ùˆ Ù„Û• Ù…Ø§Ø³ÙˆÙ„Ú©Û•Ø¯Ø§.", "B) Ø¨Û•Ù‡Û†ÛŒ Ú¯Û†Ú•Ø§Ù†ÛŒ Ú¯Ù„ÙˆÚ©Û†Ø² Ø¨Û† ÙˆØ²Û• Ø¨Û• Ø´ÛÙˆÛ•ÛŒ Ù‡Û•ÙˆØ§ÛŒÛŒ.", "C) Ø¨Û•Ù‡Û†ÛŒ Ú©Ø±Ø¯Ø§Ø±ÛŒ ØªØ±Ø´Ø§Ù† Ùˆ Ø¯Ø±ÙˆØ³ØªØ¨ÙˆÙˆÙ†ÛŒ ØªØ±Ø´ÛŒ Ù„Ø§Ú©ØªÛŒÚ© (Lactic acid).", "D) Ø¨Û•Ù‡Û†ÛŒ Ú©Û•Ù…ÛŒ Ù¾Û•Ø³ØªØ§Ù†ÛŒ Ø®ÙˆÛÙ†."], answer: 2 },
            { q: "Ù„Û• Ú©Ø§Ø±Ù„ÛÚ©ÛŒ Ø¦Û†Ú©Ø³Ø§Ù† Ùˆ Ø¯Ø§Ø´Ú©Ø§Ù†Ø¯Ø§ (Redox)ØŒ Ø¦Û•Ùˆ Ù…Ø§Ø¯Ø¯Û•ÛŒÛ•ÛŒ Ú©Û• Ø¦Û•Ù„ÛŒÚ©ØªØ±Û†Ù† Ù„Û•Ø¯Û•Ø³Øª Ø¯Û•Ø¯Ø§Øª Ù¾ÛÛŒ Ø¯Û•ÙˆØªØ±ÛØª:", options: ["A) Ù…Ø§Ø¯Ø¯Û•ÛŒ Ú©Û•Ù…Ú©Û•Ø±Û•ÙˆÛ• (Reducing agent).", "B) Ù…Ø§Ø¯Ø¯Û•ÛŒ Ø¦Û†Ú©Ø³ÛÙ†Û•Ø± (Oxidizing agent).", "C) Ù…Ø§Ø¯Ø¯Û•ÛŒ Ù‡Ø§ÙˆØ³Û•Ù†Ú¯.", "D) Ù…Ø§Ø¯Ø¯Û•ÛŒ Ù‡Ø§Ù†Ø¯Û•Ø±."], answer: 0 },
            { q: "Ø¦Û•Ú¯Û•Ø± ØªÛŒØ´Ú©ÛÚ©ÛŒ Ú•ÙˆÙˆÙ†Ø§Ú©ÛŒ Ù„Û• Ù‡Û•ÙˆØ§ÙˆÛ• Ø¨Ú†ÛØªÛ• Ù†Ø§Ùˆ Ø´ÙˆÙˆØ´Û•ØŒ Ú†ÛŒ Ø¨Û•Ø³Û•Ø± Ø®ÛØ±Ø§ÛŒÛŒ Ùˆ Ø¯Ø±ÛÚ˜ÛŒ Ø´Û•Ù¾Û†Ù„Û•Ú©Û•ÛŒØ¯Ø§ Ø¯ÛØªØŸ", options: ["A) Ø®ÛØ±Ø§ÛŒÛŒÛ•Ú©Û•ÛŒ Ø²ÛŒØ§Ø¯ Ø¯Û•Ú©Ø§Øª Ùˆ Ø¯Ø±ÛÚ˜ÛŒ Ø´Û•Ù¾Û†Ù„ Ú©Û•Ù… Ø¯Û•Ú©Ø§Øª.", "B) Ø®ÛØ±Ø§ÛŒÛŒ Ùˆ Ø¯Ø±ÛÚ˜ÛŒ Ø´Û•Ù¾Û†Ù„Û•Ú©Û•ÛŒ Ú©Û•Ù… Ø¯Û•Ú©Û•Ù†.", "C) Ø®ÛØ±Ø§ÛŒÛŒ Ú©Û•Ù… Ø¯Û•Ú©Ø§Øª Ùˆ Ø¯Ø±ÛÚ˜ÛŒ Ø´Û•Ù¾Û†Ù„ Ø²ÛŒØ§Ø¯ Ø¯Û•Ú©Ø§Øª.", "D) Ù‡Û•Ø±Ø¯ÙˆÙˆÚ©ÛŒØ§Ù† ÙˆÛ•Ú© Ø®Û†ÛŒØ§Ù† Ø¯Û•Ù…ÛÙ†Ù†ØªÛ•ÙˆÛ•."], answer: 1 },
            { q: "Ø¦Û•Ú¯Û•Ø± Ù†Ø±Ø®ÛÚ© Ø¨Û• Ú•ÛÚ˜Û•ÛŒ 20% Ø¯Ø§Ø¨Û•Ø²ÛØªØŒ Ù¾Ø§Ø´Ø§Ù† Ø¬Ø§Ø±ÛÚ©ÛŒ ØªØ± Ø¨Û• Ú•ÛÚ˜Û•ÛŒ 20% Ø²ÛŒØ§Ø¯ Ø¨Ú©Ø±ÛØªÛ•ÙˆÛ•ØŒ Ø¦Ø§ÛŒØ§ Ù†Ø±Ø®ÛŒ Ú©Û†ØªØ§ÛŒÛŒ Ú†Û†Ù†Û•ØŸ", options: ["A) ÙˆÛ•Ú© Ø®Û†ÛŒ Ø¯Û•Ù…ÛÙ†ÛØªÛ•ÙˆÛ•.", "B) Ø²ÛŒØ§ØªØ± Ø¯Û•Ø¨ÛØª Ù„Û• Ù†Ø±Ø®ÛŒ Ø³Û•Ø±Û•ØªØ§.", "C) Ú©Û•Ù…ØªØ± Ø¯Û•Ø¨ÛØª Ù„Û• Ù†Ø±Ø®ÛŒ Ø³Û•Ø±Û•ØªØ§.", "D) Ø¯Û•Ø¨ÛØª Ø¨Û• Ø¯ÙˆÙˆ Ø¦Û•ÙˆÛ•Ù†Ø¯Û•ÛŒ Ù†Ø±Ø®ÛŒ Ø³Û•Ø±Û•ØªØ§."], answer: 2 },
            { q: "Ø¨Û•Ù¾ÛÛŒ ØªÛŒÛ†Ø±ÛŒ (Ø¦ÛŒØ¨Ø±Ø§Ù… Ù…Ø§Ø³Ù„Û†)ØŒ Ú©Ø§Ù…Û• Ù„Û•Ù…Ø§Ù†Û• Ù„Û• Ø¨Ù†Ú©Û•ÛŒ Ù‡Û•Ø±Û•Ù…Û•Ú©Û•Ø¯Ø§ÛŒÛ•ØŸ", options: ["A) Ù¾ÛÙˆÛŒØ³ØªÛŒ Ø¨Û•Ø¯ÛŒÙ‡ÛÙ†Ø§Ù†ÛŒ Ø®ÙˆØ¯.", "B) Ù¾ÛÙˆÛŒØ³ØªÛŒÛŒÛ• ÙÛŒØ³ÛŒÛ†Ù„Û†Ú˜ÛŒÛŒÛ•Ú©Ø§Ù† (ÙˆÛ•Ú© Ø®ÙˆØ§Ø±Ø¯Ù† Ùˆ Ø¦Ø§Ùˆ).", "C) Ù¾ÛÙˆÛŒØ³ØªÛŒ Ú•ÛØ²Ú¯Ø±ØªÙ† Ùˆ Ø´Ú©Û†Ù…Û•Ù†Ø¯ÛŒ.", "D) Ù¾ÛÙˆÛŒØ³ØªÛŒ Ø¦Ø§Ø³Ø§ÛŒØ´ Ùˆ Ø¯ÚµÙ†ÛŒØ§ÛŒÛŒ."], answer: 1 },
            { q: "Ø¯ÛŒØ³Ù„ÛÚ©Ø³ÛŒØ§ (Dyslexia) ÙˆÛ•Ú© Ú¯Ø±ÙØªÛÚ©ÛŒ ÙÛØ±Ø¨ÙˆÙˆÙ†ØŒ Ø²ÛŒØ§ØªØ± Ù¾Û•ÛŒÙˆÛ•Ù†Ø¯ÛŒ Ø¨Û• Ú©Ø§Ù… Ù„Ø§ÛŒÛ•Ù†Û•ÙˆÛ• Ù‡Û•ÛŒÛ•ØŸ", options: ["A) Ú©ÛØ´Û• Ù„Û• Ø¦Û•Ù†Ø¬Ø§Ù…Ø¯Ø§Ù†ÛŒ Ú©Ø±Ø¯Ø§Ø±Û• Ø¨ÛŒØ±Ú©Ø§Ø±ÛŒÛŒÛ•Ú©Ø§Ù†.", "B) Ú©ÛØ´Û• Ù„Û• Ú©Û†Ù†ØªÚ•Û†ÚµÚ©Ø±Ø¯Ù†ÛŒ Ø¬ÙˆÚµÛ•ÛŒ Ø¯Û•Ø³Øª.", "C) Ù‚ÙˆØ±Ø³ÛŒ Ù„Û• Ø®ÙˆÛÙ†Ø¯Ù†Û•ÙˆÛ• Ùˆ Ù†Ø§Ø³ÛŒÙ†Û•ÙˆÛ•ÛŒ Ù¾ÛŒØª Ùˆ ÙˆØ´Û•Ú©Ø§Ù†.", "D) Ù„Ø§ÙˆØ§Ø²ÛŒ Ù„Û• ØªÙˆØ§Ù†Ø§ÛŒ Ø¨ÛŒØ³ØªÙ†."], answer: 2 },
            { q: "Which of the following is an example of an 'Oxymoron'?", options: ["A) The wind whispered.", "B) Fast as a lion.", "C) Bittersweet.", "D) I have a million things to do."], answer: 2 },
            { q: "Ø£ÙŠ Ù…Ù† Ø§Ù„Ø£ÙØ¹Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠØ© Ù‡Ùˆ 'ÙØ¹Ù„ Ù…Ø¹ØªÙ„'ØŸ", options: ["A) ÙƒÙØªÙØ¨Ù.", "B) Ù‚ÙØ±ÙØ£Ù.", "C) Ù‚ÙØ§Ù„Ù.", "D) Ø¬ÙÙ„ÙØ³Ù."], answer: 2 },
            { q: "Ù„Û•Ù… Ø¯ÛØ±Û• Ø´ÛŒØ¹Ø±Û•ÛŒ (Ù†Ø§Ù„ÛŒ): 'Ù…Û•Ø³ØªÛ•ÙˆØ±Û• Ø¨Û• ØºÛ•Ù…Ø²Û•ÛŒ ÙˆÛ•Ú© Ùˆ ØªÛŒØ±ÛŒ'ØŒ Ø´Ø§Ø¹ÛŒØ± Ú† Ø¬Û†Ø±Û• Ø¬ÙˆØ§Ù†ÛŒÛŒÛ•Ú©ÛŒ Ø¦Û•Ø¯Û•Ø¨ÛŒ Ø¨Û•Ú©Ø§Ø±Ú¾ÛÙ†Ø§ÙˆÛ•ØŸ", options: ["A) ØªÛ•Ø´Ø¨ÛÚ¾ (Ú†ÙˆØ§Ù†Ø¯Ù†).", "B) Ú©ÛŒÙ†Ø§ÛŒÛ•.", "C) Ø¯Ú˜Ø§ÛŒÛ•ØªÛŒ (Ø·Ø¨Ø§Ù‚).", "D) Ù…Ø§Ù†ÛŒØ§ÛŒ Ø³Ù¾ÛŒ."], answer: 0 },
            { q: "Ù¾ÛŒØªÛ•Ú©Ø§Ù†ÛŒ Ø²Ù…Ø§Ù†ÛŒ Ø³Ø±ÛŒØ§Ù†ÛŒ Ù„Û• Ú†Û•Ù†Ø¯ Ù¾ÛŒØª Ù¾ÛÚ©Ø¯ÛÙ†ØŸ", options: ["A) 28 Ù¾ÛŒØª.", "B) 24 Ù¾ÛŒØª.", "C) 20 Ù¾ÛŒØª.", "D) 22 Ù¾ÛŒØª."], answer: 3 }
        ];

        let currentQuestionIndex = 0;
        let score = 0;
        let timerInterval;
        let isQuizActive = false;
        let userName = "";
        let userDept = "";

        function showScreen(screenId) {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById(screenId).classList.add('active');
        }

        if(localStorage.getItem('koleji_quiz_completed') === 'true') {
            document.getElementById('finalMessage').textContent = "ØªØ§Ø²Û• Ø¨Û•Ú˜Ø¯Ø§Ø±ÛŒØª Ù†Û•Ú©Ø±Ø¯ Ú¯ÙˆÚµÛ•Ø¨Ø§Ø®ğŸ˜";
            document.getElementById('finalMessage').style.color = "var(--danger-red)";
            showScreen('screen-result');
        } else {
            setTimeout(() => { showScreen('screen-form'); }, 3000);
        }

        const selectWrapper = document.getElementById('departmentSelect');
        const selectedText = document.getElementById('selectedDepartment');
        document.querySelector('.custom-select-trigger').addEventListener('click', () => selectWrapper.classList.toggle('open'));
        document.querySelectorAll('.custom-option').forEach(opt => {
            opt.addEventListener('click', function() {
                selectedText.textContent = this.textContent;
                selectedText.style.color = "white";
                selectWrapper.classList.remove('open');
                document.getElementById('deptError').style.display = 'none';
            });
        });

        document.getElementById('startBtn').addEventListener('click', () => {
            const nameInput = document.getElementById('fullName').value.trim();
            const deptInput = selectedText.textContent;
            
            const kurdishArabicRegex = /^[\u0600-\u06FF\u0750-\u077F\s]+$/;
            const wordsCount = nameInput.split(/\s+/).length;

            let hasError = false;

            if (!kurdishArabicRegex.test(nameInput) || wordsCount < 3) {
                document.getElementById('nameError').style.display = 'block';
                hasError = true;
            } else {
                document.getElementById('nameError').style.display = 'none';
            }

            if (deptInput === "Ø¨Û•Ø´Û•Ú©Û•Øª Ù‡Û•ÚµØ¨Ú˜ÛØ±Û•...") {
                document.getElementById('deptError').style.display = 'block';
                hasError = true;
            }

            if (hasError) return;

            userName = nameInput;
            userDept = deptInput;
            document.getElementById('displayUserName').textContent = userName;

            localStorage.setItem('koleji_quiz_completed', 'true');

            showScreen('screen-countdown');
            let count = 3;
            document.getElementById('countdownTimer').textContent = count;
            let countInterval = setInterval(() => {
                count--;
                if (count > 0) {
                    document.getElementById('countdownTimer').textContent = count;
                } else {
                    clearInterval(countInterval);
                    startQuiz();
                }
            }, 1000);
        });

        function startQuiz() {
            isQuizActive = true;
            currentQuestionIndex = 0;
            score = 0;
            showScreen('screen-quiz');
            loadQuestion();
        }

        function loadQuestion() {
            if(currentQuestionIndex >= questions.length) {
                endQuiz("Ø³ÙˆÙ¾Ø§Ø³ Ø¨Û† Ø¨Û•Ú˜Ø¯Ø§Ø±ÛŒÚ©Ø±Ø¯Ù†Øª Ú¯ÙˆÚµÛ•Ø¨Ø§Ø® Ú†Ø§ÙˆÛ•Ú•ÙˆØ§Ù†Ø¨Û• ØªØ§Ú©Ùˆ Ø¦Û•Ù†Ø¬Ø§Ù…Û•Ú©Ø§Ù† Ú•Ø§Ø¯Û•Ú¯Û•ÛŒÛ•Ù†Ø±ÛØª");
                return;
            }

            const q = questions[currentQuestionIndex];
            document.getElementById('questionCounter').textContent = `Ù¾Ø±Ø³ÛŒØ§Ø±ÛŒ ${currentQuestionIndex + 1} / 20`;
            document.getElementById('questionText').textContent = q.q;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = "";

            q.options.forEach((opt, index) => {
                const btn = document.createElement('button');
                btn.className = 'option-btn';
                btn.textContent = opt;
                btn.onclick = () => selectAnswer(index, btn);
                optionsContainer.appendChild(btn);
            });

            startTimer();
        }

        function startTimer() {
            let timeLeft = 10;
            const timerEl = document.getElementById('questionTimer');
            timerEl.textContent = timeLeft;
            timerEl.classList.remove('timer-danger');

            clearInterval(timerInterval);
            timerInterval = setInterval(() => {
                timeLeft--;
                timerEl.textContent = timeLeft;
                if(timeLeft <= 3) timerEl.classList.add('timer-danger');
                
                if(timeLeft <= 0) {
                    clearInterval(timerInterval);
                    score -= 1; // Ù„ÛØ¨Ú•ÛŒÙ†ÛŒ Ø®Ø§ÚµÛÚ©
                    timeOutNextQuestion();
                }
            }, 1000);
        }

        function selectAnswer(selectedIndex, btn) {
            clearInterval(timerInterval);
            const correctIndex = questions[currentQuestionIndex].answer;
            const allBtns = document.querySelectorAll('.option-btn');
            
            allBtns.forEach(b => b.style.pointerEvents = 'none'); // Ú•ÛÚ¯Ø±ÛŒ Ù„Û• Ø¯ÙˆÙˆØ¨Ø§Ø±Û• Ú©Ù„ÛŒÚ©

            btn.classList.add('selected'); // ØªÛ•Ù†Ù‡Ø§ Ù†ÛŒØ´Ø§Ù†ÛŒ Ø¨Ø¯Û• Ú©Û• Ú©Ø§Ù…Û•ÛŒ Ù‡Û•ÚµØ¨Ú˜Ø§Ø±Ø¯ÙˆÙˆÛ•

            if(selectedIndex === correctIndex) {
                score += 1;
            } else {
                score -= 1; // Ù‡Û•ÚµÛ•Ø¨ÙˆÙˆ ÛŒÛ•Ú© Ø®Ø§Úµ Ø¯Û•Ø¨Ú•ÛØª
            }

            // Ø¯ÙˆØ§ÛŒ Ù…Ø§ÙˆÛ•ÛŒÛ•Ú©ÛŒ Ú©ÙˆØ±Øª Ø¯Û•Ú†ÛØªÛ• Ù¾Ø±Ø³ÛŒØ§Ø±ÛŒ Ø¯ÙˆØ§ØªØ±
            setTimeout(() => {
                currentQuestionIndex++;
                loadQuestion();
            }, 800);
        }

        function timeOutNextQuestion() {
            const allBtns = document.querySelectorAll('.option-btn');
            allBtns.forEach(b => b.style.pointerEvents = 'none');

            setTimeout(() => {
                currentQuestionIndex++;
                loadQuestion();
            }, 800);
        }

        document.addEventListener("visibilitychange", () => {
            if (document.hidden && isQuizActive) {
                triggerCheat("Ø¨Û•ØªÛ•Ù…Ø§ÛŒ Ù‚Û†Ù¾ÛŒÛ• Ø¨Ú©Û•ÛŒ Ú¯ÙˆÚµÛ•Ø¨Ø§Ø®ğŸ˜");
            }
        });

        window.addEventListener("keyup", (e) => {
            if ((e.key === 'PrintScreen' || e.key === 'Meta') && isQuizActive) {
                triggerCheat("Ø¯Û•ØªÛ•ÙˆÛ Ù„Û† Ø¨Ø±Ø§Ø¯Û•Ø±Ø§Ù† Ø¨Ù†ÛØ±ÛŒğŸ˜");
            }
        });

        function triggerCheat(message) {
            isQuizActive = false;
            clearInterval(timerInterval);
            score = 0;
            endQuiz(message, true);
        }

        function endQuiz(message, isCheater = false) {
            isQuizActive = false;
            showScreen('screen-result');
            document.getElementById('loadingBox').style.display = 'block';
            document.getElementById('finalMessageBox').style.display = 'none';

            const payload = {
                name: userName,
                department: userDept,
                score: score
            };

            fetch(GOOGLE_SHEET_URL, {
                method: 'POST',
                mode: 'no-cors',
                cache: 'no-cache',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(payload)
            }).then(() => {
                document.getElementById('loadingBox').style.display = 'none';
                document.getElementById('finalMessageBox').style.display = 'block';
                const msgEl = document.getElementById('finalMessage');
                msgEl.textContent = message;
                if(isCheater) msgEl.style.color = "var(--danger-red)";
                else msgEl.style.color = "#2ecc71";
            }).catch(err => {
                console.error(err);
                document.getElementById('loadingBox').style.display = 'none';
                document.getElementById('finalMessage').textContent = "Ú©ÛØ´Û•ÛŒÛ•Ú© Ù‡ÛÙ„Û• Ù‡Û•ÛŒÛ• Ù„Û• Ù†Ø§Ø±Ø¯Ù†ÛŒ Ø¯Ø§ØªØ§ØŒ Ø¨Û•ÚµØ§Ù… ØªØ§Ù‚ÛŒÚ©Ø±Ø¯Ù†Û•ÙˆÛ•Ú©Û•Øª Ú©Û†ØªØ§ÛŒÛŒ Ù‡Ø§Øª.";
                document.getElementById('finalMessageBox').style.display = 'block';
            });
        }
    </script>
</body>
</html>
